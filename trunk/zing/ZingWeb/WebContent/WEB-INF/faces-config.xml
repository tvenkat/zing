<?xml version="1.0" encoding="UTF-8"?>

<faces-config xmlns="http://java.sun.com/xml/ns/javaee"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
	http://java.sun.com/xml/ns/javaee/web-facesconfig_1_2.xsd"
	version="1.2">
	
	<application>
		<default-render-kit-id>org.apache.myfaces.trinidad.core
		</default-render-kit-id>
	</application>
	<managed-bean>
		<managed-bean-name>navigationBean</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.beans.NavigationBean
		</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>currentProfile</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.beans.ProfileBean
		</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>applicationBean</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.dto.Application
		</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
	</managed-bean> 
	<managed-bean>
		<managed-bean-name>ownerProfile</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.beans.ProfileBean
		</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>	 
	
	 <managed-bean> 
 	 	<managed-bean-name>applicationHandler</managed-bean-name>
  		<managed-bean-class>com.iLabs.spice.handler.ApplicationHandler</managed-bean-class>
  		<managed-bean-scope>request</managed-bean-scope>  		
  		
   </managed-bean> 
  
    <managed-bean>
		<managed-bean-name>ownerProfileHandler</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.handler.OwnerProfileHandler
		</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
	</managed-bean>	   
   	<managed-bean>
		<managed-bean-name>allApplication</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.beans.AllApplication
		</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>	
	<managed-bean>
		<managed-bean-name>countriesBean</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.beans.CountriesBean
		</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>	
	<managed-bean>
		<managed-bean-name>userScrapsList</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.beans.UserScrapsList
		</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>login</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.beans.LoginBean
		</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>userProfile</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.dto.UserProfile
		</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
	</managed-bean>
    <managed-bean>
		<managed-bean-name>myFriendsHandler</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.handler.MyFriendsHandler
		</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>		
	</managed-bean>
	<managed-bean>
		<managed-bean-name>editProfileHandler</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.handler.EditProfileHandler
		</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>editProfileBean</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.beans.EditProfileBean
		</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>

	<managed-bean>
		<managed-bean-name>userAuth</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.dto.UserAuth
		</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>

	<managed-bean>
		<managed-bean-name>userFriends</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.dto.UserFriends
		</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>addFriendHandler</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.handler.AddFriendHandler
		</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>registerHandler</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.handler.RegisterHandler
		</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>registerBean</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.beans.RegisterBean
		</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>userScrap</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.dto.UserScrap</managed-bean-class>
			<managed-bean-scope>request</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>loginHandler</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.handler.LoginHandler
		</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>imageUploadHandler</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.handler.ImageUploadHandler
		</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>		
	</managed-bean>

	<managed-bean>
		<managed-bean-name>sendMail</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.dto.SendMail 
		</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
	</managed-bean>

	<managed-bean>
		<managed-bean-name>sendMailHandler</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.handler.SendMailHandler
		</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>
	</managed-bean>

	<managed-bean>
		<managed-bean-name>scrapHandler</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.handler.ScrapHandler
		</managed-bean-class>
		<managed-bean-scope>request</managed-bean-scope>				
	</managed-bean>
    <managed-bean> 
     <managed-bean-name>codeImage</managed-bean-name>
    <managed-bean-class>com.iLabs.spice.dto.CodeImage</managed-bean-class>
    <managed-bean-scope>session</managed-bean-scope>
   </managed-bean>
   
  
 
 <managed-bean>   
  <managed-bean-name>image</managed-bean-name>
  <managed-bean-class>com.iLabs.spice.dto.Image</managed-bean-class>
  <managed-bean-scope>request</managed-bean-scope>
 </managed-bean>  	
  
 <managed-bean>   
  <managed-bean-name>userAlbum</managed-bean-name>
  <managed-bean-class>com.iLabs.spice.dto.UserAlbum</managed-bean-class>
  <managed-bean-scope>request</managed-bean-scope>
 </managed-bean>  	 
  	 
  <managed-bean> 
  <managed-bean-name>friendProfileHandler</managed-bean-name>
  <managed-bean-class>com.iLabs.spice.handler.FriendProfileHandler</managed-bean-class>
  <managed-bean-scope>request</managed-bean-scope>
   </managed-bean> 
 	<managed-bean>
		<managed-bean-name>searchHandler</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.handler.SearchHandler
		</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>
 	 <managed-bean>
		<managed-bean-name>pendingRequestBean</managed-bean-name>
		<managed-bean-class>
			com.iLabs.spice.beans.PendingRequestBean
		</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>
 	
 	 
	<navigation-rule>
		<navigation-case>			
			<from-outcome>lnkAddApplication</from-outcome>
			<to-view-id>/pages/addApplication.jspx</to-view-id>
		</navigation-case>
	
		<navigation-case>
			<from-outcome>lnkHome</from-outcome>
			<to-view-id>/pages/home.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>lnkViewAllFriends</from-outcome>
			<to-view-id>/pages/viewAllFriends.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
		
			<from-outcome>lnkMyProfile</from-outcome>
			<to-view-id>/pages/myProfile.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>lnkMyAlbum</from-outcome>
			<to-view-id>/pages/myAlbum.jspx</to-view-id>
		</navigation-case>
	
		<navigation-case>
			<from-outcome>lnkFriendAlbum</from-outcome>
			<to-view-id>/pages/viewFriendAlbum.jspx</to-view-id>
		</navigation-case>
		
		<navigation-case>
			<from-outcome>lnkMyScrapbook</from-outcome>
			<to-view-id>/pages/myScrapBook.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-action>#{scrapHandler.showScrap}</from-action>
			<from-outcome>lnkMyScrapbook</from-outcome>
			<to-view-id>/pages/myScrapBook.jspx</to-view-id>
		</navigation-case>		
		<navigation-case>
			<from-action>#{scrapHandler.friendScrap}</from-action>
			<from-outcome>lnkMyScrapbook</from-outcome>
			<to-view-id>/pages/myScrapBook.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>lnkForgotPassword</from-outcome>
			<to-view-id>/pages/forgotPassword.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>lnkHome</from-outcome>
			<to-view-id>/pages/home.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>lnkApplicationGallery</from-outcome>
			<to-view-id>/pages/appGallery.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-action>#{editProfileHandler.preEditAction}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/editProfile.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>lnkSearch</from-outcome>
			<to-view-id>/pages/search.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-action>#{editProfileHandler.editProfileAction}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/home.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-action>#{registerHandler.registerAction}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/login.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-action>#{registerHandler.registerAction}</from-action>
			<from-outcome>failure</from-outcome>
			<to-view-id>/pages/register.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-action>#{registerHandler.joinSpiceAction}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/register.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-action>#{addFriendHandler.addFriendAction}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/addFriend.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-action>#{addFriendHandler.addFriendAction}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/addFriend.jspx</to-view-id>
		</navigation-case>
		
		<navigation-case>
			<from-outcome>backLnkFriendProfile</from-outcome>
			<to-view-id>/pages/friendsProfile.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-action>#{loginHandler.loginAction}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/home.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-action>#{loginHandler.loginAction}</from-action>
			<from-outcome>failure</from-outcome>
			<to-view-id>/pages/login.jspx</to-view-id>
		</navigation-case>
				<navigation-case>
			<from-action>#{loginHandler.logout}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/login.jspx</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
			<from-view-id>/pages/appGallery.jspx</from-view-id>
			<navigation-case>
				<from-action>#{applicationHandler.addApplicationToUser}</from-action>
				<from-outcome>lnkApplicationGallery</from-outcome>
				<to-view-id>/pages/appGallery.jspx</to-view-id>
			</navigation-case>
	</navigation-rule>
	
	<navigation-rule>		
		<navigation-case>
			<from-outcome>lnkSendMail</from-outcome>
			<to-view-id>/pages/sendMail.jspx</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<from-view-id>/pages/sendMail.jspx</from-view-id>
		<navigation-case>
			<from-action>#{sendMailHandler.sendMail}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/sendMail.jspx</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
	<navigation-case>
			<from-outcome>lnkAddFriend</from-outcome>
			<to-view-id>/pages/sendFriendRequest.jspx</to-view-id>
		</navigation-case>
		</navigation-rule>	
   <navigation-rule>
		<navigation-case>
			<from-action>#{scrapHandler.scrapAction}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/myScrapBook.jspx</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<navigation-case>
			<from-action>#{searchHandler.searchPerson}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/search.jspx</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
	<navigation-case>
			<from-action>#{imageUploadHandler.deleteAlbum}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/myAlbum.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-action>#{imageUploadHandler.processMyPhoto}</from-action>
			<from-outcome>success</from-outcome>
			<to-view-id>/pages/myAlbum.jspx</to-view-id>
		</navigation-case>
	</navigation-rule>
<!--  gaurav -->
	<navigation-rule>
		<navigation-case>
			<from-action>#{friendProfileHandler.getFriendProfile}</from-action>
			<from-outcome>lnkFriendProfile</from-outcome>
			<to-view-id>/pages/friendsProfile.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-action>#{friendProfileHandler.showUserAlbum}</from-action>
			<from-outcome>lnkFriendAlbum</from-outcome>
			<to-view-id>/pages/viewFriendAlbum.jspx</to-view-id>
		</navigation-case>
	</navigation-rule>	
	<navigation-rule>
		<navigation-case>
			<from-action>#{applicationHandler.showApplication}</from-action>
			<from-outcome>showApplication</from-outcome>
			<to-view-id>/pages/showApplication.jspx</to-view-id>
		</navigation-case>
	</navigation-rule>
		
	
	<navigation-rule>

		<navigation-case>
			<from-action>#{friendProfileHandler.getFriendAlbumList}</from-action>
			<from-outcome>lnkFriendAlbum</from-outcome>
			<to-view-id>/pages/viewFriendsAlbum.jspx</to-view-id>
		</navigation-case>
	</navigation-rule>
	
	 <navigation-rule>
	  <from-view-id>*</from-view-id>
	    <navigation-case>
	      <from-outcome>logout</from-outcome>
	      <to-view-id>/pages/login.jspx</to-view-id>
	      <redirect/>
	    </navigation-case>
	</navigation-rule>
  		
	<application>
		<message-bundle>com.iLabs.spice.nls.Validations</message-bundle>
		
        <resource-bundle>
            <base-name>com.iLabs.spice.nls.Validations</base-name>
            <var>validationMsg</var>
        </resource-bundle>
		
		<message-bundle>com.iLabs.spice.nls.ViewAllFriends</message-bundle>
	</application>
	<component>
		<component-type>iLABS_ERRORS</component-type>
		<component-class>
			com.iLabs.custom.component.ErrorHandler
		</component-class>
	</component>
	<component>
		<component-type>com.iLabs.custom.DataGrid</component-type>
		<component-class>
			com.iLabs.custom.component.DataGrid
		</component-class>
	</component>
	<render-kit>  
        <renderer>  
            <description>Renderer for the alert message component.</description>  
            <component-family>com.iLabs.custom.DataGrid</component-family>  
            <renderer-type>com.iLabs.custom.component.DataGridRenderer</renderer-type>  
            <renderer-class>com.iLabs.custom.component.DataGridRenderer</renderer-class>  
        </renderer>  
    </render-kit>
	<component>
		<component-type>iLABS_DATA_ITERATOR</component-type>
		<component-class>
			com.iLabs.custom.component.DataIterator
		</component-class>
	</component>
 <lifecycle>
 	<phase-listener>com.iLabs.spice.controller.LoggedInCheck</phase-listener>
    </lifecycle>

</faces-config>
